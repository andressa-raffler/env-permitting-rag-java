spring.application.name=env-permitting-rag-java

# ===== Common (shared) settings =====

# Server
server.port=8080

# Actuator (minimal)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never

# ===== Spring AI (OpenAI) =====
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.chat.options.model=gpt-4o-mini
spring.ai.openai.chat.options.temperature=0.2
spring.ai.openai.embedding.options.dimensions=1536
spring.ai.openai.embedding.options.model=${EMBEDDING_MODEL:text-embedding-3-small}


# ===== PoC tuning knobs =====
# Simple API key for PoC-only auth (header: X-API-Key)
poc.api-key=dev-key

# Retrieval/topK and chunking (adjust per your eval results)
poc.retriever.topK=6
poc.chunk.sizeTokens=900
poc.chunk.overlapTokens=150

# Ingestion strategy: truncate or versioned
app.ingestion.strategy=truncate

# Liquibase
spring.liquibase.change-log=classpath:/db/db.changelog-master.yaml
spring.liquibase.parameters.embeddingDims=1536
spring.datasource.url=jdbc:postgresql://localhost:5432/licgpt?currentSchema=licgpt

spring.liquibase.default-schema=licgpt
spring.liquibase.liquibase-schema=public
spring.liquibase.parameters.schemaName=licgpt

# --- Smoke test ---
app.smoke.enabled=false
app.embedding.expected-dim=${APP_EMBEDDING_DIM:1536}
# (opcional) reduzir verbosidade do Spring AI
logging.level.org.springframework.ai=INFO


